<!Doctype HTML>

<html>

    <head>
        <meta charset="utf-8">
        <title>JavaScript Practice</title>
    </head>

    <script>

            function pageLoad(){
                window.alert("Welcome! Page Loading...");
            }
            
            function buttClick(id, num){
                id.innerHTML = num + " has been clicked.";
                console.log("Clicked " + num)
                console.log(num*2);
            }

            function buttAlert(){
                window.alert("A button has been clicked.");
            }

            function displayDate(){
                date.innerHTML = Date();
            }

            function displayDate2(){
                var nowDate = new Date();
                date1.innerHTML = nowDate;
            }

            function submitted(){
                a3.innerHTML = input.value;
            }

            function submitted2(){
                b3.innerHTML = input2.value;
            } 
            
            function genRandomNum(id){

                function randomNum(){
                    return `Your number is ${Math.floor(Math.random() * (10 - 1 + 1)) + 1}.`; //Generates random number between 1 and 10 and returns the result.
                }
                id.innerHTML = randomNum();
            }
            
    </script>

    <!-- onload is called on the body tag. -->
    <body onload="pageLoad()">


        <h1 >JavaScript Practice</h1>
        <hr>
        <h2>JavaScript EventListeners & Function Calling</h2>
        <input type="button" value="Check Date" onclick= displayDate(),displayDate2()>
        <p id="date"></p>
        <input type="button" value="Button 1" onclick= buttClick(a1,1),buttAlert()>
        <p id="a1"></p>
        <input type="button" value="Button 2" onclick= buttClick(a2,2),buttAlert()>
        <p id="a2"></p>
        <input type="input" value="" id="input">
        <input type="button" value="Submit" id="Submit"  onclick=submitted()>
        <p id="a3"></p>
        

        <!--------------------------------------------------------------------------------------->
        <h3>Using addEventListener() Method - Makes for cleaner code.</h3>
        <!--------------------------------------------------------------------------------------->
        <!-- Same code as above but using addEventListener(), generally makes for CLEANER CODE-->

        <input type="button" value="Check Date" id="butt1">
        <p id="date1"></p>
        <input type="button" value="Button 1" id="button1">
        <p id="b1"></p>
        <input type="button" value="Button 2" id="button2">
        <p id="b2"></p>
        <input type="input" value="" id="input2">
        <input type="button" value="Submit" id="Submit2">
        <p id="b3"></p>
        <h3>Function below makes use of RETURN</h3>
        'Return' only brings back ONE value. If you have more than one result to return from a function, PUT THEM INSIDE AN ARRAY, then return the single array.
        <br> <!-- <br> Adds a break the line above. -->
        <br>
        <input type="button" value="Gen Random Number" id="button4">
        <p id="b4"></p>

        <!-- Calling the addEventListener functions, AFTER the html elements have been created  -->
        <script>
                //Format = element.addEventListener("click", myFunction); THIS IS WITHOUT USING ANONYMOUS FUNCTIONS

                //document.getElementById("butt1").addEventListener("click", displayDate2);
                //document.getElementById("button1").addEventListener("click", buttClick(b1,1)); // THIS CODE IS BUGGY! - Function call does not take in arguments.
                //document.getElementById("button2").addEventListener("click", buttClick(b1,2)); AddEventListener() does not like taking in parameters for the function that must be triggered.
                //document.getElementById("Submit2").addEventListener("click", submitted2); //This works because the function call does not take in arguments like the buttClick function.

                //-----------------------------------------------------------------------------------------
                //Same code as above BUT USING ANONYMOUS FUNCTIONS with addEventListener
                //ANONYMOUS FUNCTIONS ALLOW YOU TO CALL MULTIPLE FUNCTIONS FROM ONE EVENT TRIGGER. A function that call multiple functions.

                butt1.addEventListener("click", function() {  displayDate(), displayDate2()  });
                button1.addEventListener("click", function() {  buttClick(b1,1), buttAlert() }); 
                button2.addEventListener("click", function() {  buttClick(b2,2), buttAlert() }); 
                Submit2.addEventListener("click", function() {  submitted(), submitted2()  });
                button4.addEventListener("click", function() {  genRandomNum(b4)  });

        </script>

        <hr>

        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->

        <h2>JavaScript Conditionals & Looping</h2>

        <h3>The Four Fours Dice Game:</h3>

        <p>You win if you get at least four 4's within 10 rolls of the die. Good Luck!</p>

        <input type="button" value="PLAY" id="playButt" onclick=playGame()>
        <br>
        <h2 id="displayResult"></h2>
        <br>
        <h4>Result 1</h4>
        <p id="res1"></p>

        <h4>Result 2</h4>
        <p id="res2"></p>

        <h4>Result 3</h4>
        <p id="res3"></p>

        <h4>Result 4</h4>
        <p id="res4"></p>

        <h4>Result 5</h4>
        <p id="res5"></p>

        <h4>Result 6</h4>
        <p id="res6"></p>

        <h4>Result 7</h4>
        <p id="res7"></p>

        <h4>Result 8</h4>
        <p id="res8"></p>

        <h4>Result 9</h4>
        <p id="res9"></p>

        <h4>Result 10</h4>
        <p id="res10"></p>


        <script>
            function playGame(){

                function rollDie(i,num){
                    console.log("Roll "+ i + " : " + num);
                    document.getElementById(`res${i}`).innerHTML= `${num}`; //This is how to insert text dynamically inside strings in JavaScript.
                }

                var count4s=0;
                var countGames=10;

                for(var i=1; i<countGames+1; i++){

                    const num = Math.floor(Math.random() * (6 - 1 + 1)) + 1; //Generates random number between 1 and 6 to simulate a die.

                    window.setTimeout(rollDie(i,num), 4000); //NOT WORKING, Needs to delay the execution of each rollDie() iteration by 4 seconds.

                    if (num == 4){
                        count4s++;
                    }
                }

                if (count4s>3){
                    displayResult.innerHTML= "YOU WIN!!!";
                }
                else
                    displayResult.innerHTML= "YOU LOSE :(";
            };

        </script>

        <hr>

        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <h2>JavaScript Object Groups & Arrays</h2>

        <!--

	http://www.w3schools.com/jsref/default.asp

        Some Examples:

        Window Object

            Properties - ex:

                window.screen.width;
                window.location;
                

            Methods/Functions - ex:

                window.print();
                window.open();
                window.alert();

        Document Object

            Properties - ex:

                document.lastModified;
                document.title;

            Methods/Functions - ex:

                document.getElementById();
                document.write(); NEVER USE THIS!!!

        -->

        <script>

            var cartArray = [];
            var totalItems=0;
            var totalCost = 0;
            
            function addItem(item){
                    cartArray.push(item.innerHTML);
                    document.getElementById("cartArrayDisplay").innerHTML=cartArray;
                    //totalItems+=1;
                    totalItems=cartArray.length;
                    document.getElementById("totalItemsDisplay").innerHTML=totalItems;
            }

            function addPrice(price){
                    // BUG - This will reset the total cost to zero every time the function is called. NOT WHAT WE WANT!
                    //var totalCost = parseInt(document.getElementById("totalCostDisplay").innerHTML);// This will return the current total cost.
                    totalCost += parseInt(price.innerHTML);
                    document.getElementById("totalCostDisplay").innerHTML = totalCost;
            }

        </script>

        <h3>Simple Shopping Cart:</h3>

        <ul>
            <li id="item1"> item 1</li>
            <p>R <span id = price1>28</span></p>
            <p>
            <input type="button" value="Add to Cart" onclick=addItem(item1),addPrice(price1)>
            <p>____________________________________

            <li id="item2"> item 2</li>
            <p>R <span id = price2>55</span></p>
            <p>
            <input type="button" value="Add to Cart"  onclick=addItem(item2),addPrice(price2)>
            <p>____________________________________

            <li id="item3"> item 3</li>
            <p>R <span id = price3>12</span></p>
            <p>
            <input type="button" value="Add to Cart"  onclick=addItem(item3),addPrice(price3)>
            <p>____________________________________
            
            <li id="item4"> item 4</li>
            <p>R <span id = price4>105</span></p>
            <p>
            <input type="button" value="Add to Cart"  onclick=addItem(item4),addPrice(price4)>
            <p>____________________________________
        </ul>
    
        <h4>Added to Your Cart:</h4>
        <p id="cartArrayDisplay">...</p>
        <h4>Total Items: <span id="totalItemsDisplay">0</span></h4>
        <h4>Total Cost: R <span id="totalCostDisplay">0</span></h4>
        <p></p>
        <input type="button" value="Proceed to Checkout" id="checkout">
        <p></p>
        <hr>

        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <h2>JavaScript Forms & Form Validation</h2>

        <form name="myForm" action="" method="post" >
        
                Name:   
                <input type="input" value="" id="name">
                <p>
                Surname:
                <input type="input" value="" id="surname">
                <p>
                Age:    
                <input type="input" value="" id="age">
                <p>
                <input type="button" value="Submit" id="submit">
                <p>
                <div id="messageTarget"></div>

        </form>

        <script>

            document.getElementById("submit").addEventListener("click", function(){

                var doSubmit = validateForm();

		        if(doSubmit == false) {

			        return false;
	            }


                function validateForm(){

                    var name = document.getElementById("name").value;
                    var surname = document.getElementById("surname").value;
                    var age = document.getElementById("age").value;
                    var messageHolder = document.getElementById('messageTarget');

                    if(name !="Luyanda" || surname !="Madonsela" || age !=27) {
                        
                        messageHolder.style.color = "red";
                        messageHolder.innerHTML = "<h2>Wrong Info! Try Again</h2>";

                        return false;

                    } else {

                        messageHolder.style.color = "green";
                        messageHolder.innerHTML = "<h2>Success! You may proceed</h2>";

                        return true;
                    }
                        
                }

            });

        </script>

        <hr>
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <h2> Object Oriented Programming with JavaScript</h2>

            <!-- Factory functions vs constructor functions -->

            <h3>Create New Employee</h3>

        <form name="myForm" action="" method="post" >
        
                Name:   
                <input type="input" value="" id="empName">
                <p>
                Surname:
                <input type="input" value="" id="empSurname">
                <p>
                Position:    
                <input type="input" value="" id="empPosition">
                <p>
                <input type="button" value="Add" id="empSubmit">
                <p>
                <h4>My Employees:</h4>
                <div id="empMessageTarget"></div>

        </form>

        <script>
            /*

            //Constructor function - TEMPLATE for creating new employee OBJECTS

            //CODE BELOW USES OBJECT CONSTRUCTORS
            let empArray = [];

            function Employee(name, surname, position) {

                //these are the properties of an employee
                this.name = name;
                this.surname = surname;
                this.position = position;
                employeeID = Math.floor(Math.random() * (6 - 1 + 1)) + 1;

                empArray.push(` ${name} ${surname} - ${position}: id ${employeeID}`);
                
                //these are the METHODS for an employee
                this.startWork = function() {
                    alert(`${name} ${surname}, id ${employeeID}, is now working as a ${position}`)
                    document.getElementById("empMessageTarget").innerHTML=empArray;
                }
                this.stopWork = function() {
                    alert(name + " has stopped working.")
                }

            }

            // CALLING the Employee constructor function when add button is clicked.
            document.getElementById("empSubmit").addEventListener("click", function(){

                name = document.getElementById("empName").value;
                surname = document.getElementById("empSurname").value;
                position = document.getElementById("empPosition").value;

                const NewEmployee = new Employee(name, surname, position);
                NewEmployee.startWork();

            }
        );

        */
            //---------------------------------------------------------------------------------
            //---------Same code as above, but using GETTERS and SETTERS to modify objects-----------------------
            const empArray = [];

            const NewEmployee = {

                name: "",
                surname: "",
                position: "",
                employeeID: 1,
                
                
                //GETTERS & SETTERS
                get employeeDescription (){
                    return `${name} ${surname}, id ${employeeID}, is now working as a ${position}`
                },

                get name (){
                    return name;
                },

                set name (value){
                    name = value;
                },

                get surname (){
                    return surname;
                },

                set surname (value){
                    surname = value;
                },
                get position (){
                    return position;
                },

                set position (value){
                    position = value;
                },
                get employeeID (){
                    return employeeID;
                },

                set employeeID (value){
                    employeeID = value;
                },

                
                //these are the METHODS for an employee
                startWork() {

                    empArray.push(` ${name} ${surname} - ${position}`);
                    alert(`${name} ${surname}, is now working as a ${position}`)
                    document.getElementById("empMessageTarget").innerHTML=empArray;

                },
                
                stopWork () {
                    alert(name + " has stopped working.")
                }

            }

            document.getElementById("empSubmit").addEventListener("click", function(){

                NewEmployee.name = document.getElementById("empName").value;
                NewEmployee.surname = document.getElementById("empSurname").value;
                NewEmployee.position = document.getElementById("empPosition").value;
                NewEmployee.employeeID = Math.floor(Math.random() * (6 - 1 + 1)) + 1;
                
                console.log(NewEmployee.employeeDescription);
                console.log(NewEmployee.name);
                console.log(NewEmployee.surname);
                console.log(NewEmployee.position);
                console.log(NewEmployee.employeeID);
                NewEmployee.startWork();
                NewEmployee.stopWork();

            }

        );

        </script>
    
        <hr>
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
        <h2> Set Interval & Set Timeout</h2>
        <input type="button" value="setTimeout()" id ="timeoutButt">
        <input type="button" value="Clear" id ="timeoutButt2">

        <h1 id="timeoutTarget"></h1>
        <hr> 

        <script>

            //SET TIMEOUT CODE

            displayTimeout = () => {
                document.getElementById("timeoutTarget").innerHTML = "Hello World!";
            };

            clearMsg = () => {
                document.getElementById("timeoutTarget").innerHTML = "";
            };
            
            document.getElementById("timeoutButt").addEventListener("click", ()=>{
                const timeoutMethod = setTimeout(displayTimeout, 5000);
                timeoutMethod;
                console.log("Setting 5 Second Timeout");
            });
            document.getElementById("timeoutButt2").addEventListener("click", ()=>{
                clearMsg();
            });

        </script>

        <!-- ------------------------------------------------------------------------------------------------------------------ -->

        <input type="button" value="setInterval()" id ="intervalButt">
        <h1 id="intervalTarget"></h1>
        <hr> 
    
        <script>
             //SET INTERVAL CODE
            
            clearMsg1 = () => {
                document.getElementById("intervalTarget").innerHTML = "";
            };
            
            displayInterval = () => {
                const timeOUT = setTimeout(()=>{document.getElementById("intervalTarget").innerHTML= "Hello World! ";}, 1000);
                document.getElementById("intervalTarget").innerHTML = "";
                
            };

            document.getElementById("intervalButt").addEventListener("click", ()=>{
                const intervalMethod = setInterval(displayInterval, 2000);
                intervalMethod;
                console.log("Setting Interval");
                
            });

        </script>

    <hr>
    <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
    <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
    <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->
    <!---------------------------------------------------------------------------------------------------------------------------------------------------------------->






    </body>


</html>

